(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[967],{38017:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=38017,e.exports=t},46601:function(){},24908:function(e,t,a){Promise.resolve().then(a.bind(a,68348))},8372:function(e,t,a){"use strict";a.d(t,{T:function(){return i}});var n=a(63384);async function i(e){let[t,a]=e.split(":");return await (({arweave:async()=>({...(await fetch("https://dre-2.warp.cc/contract?id="+a).then(e=>e.json())).state,id:a,ogId:e}),alephzero:async()=>{let e=new WsProvider("wss://ws.test.azero.dev"),t=await ApiPromise.create({provider:e}),a=new ContractPromise(t,n,cid),i=await a.query.getMetadata({gasLimit:3e9,storageDepositLimit:null}),s=await a.query.getEntries([],{gasLimit:3e9,storageDepositLimit:null}),r=await a.query.getQuestions({gasLimit:3e9,storageDepositLimit:null}),l={id:cid,metadata:i.result,entries:s.result,questions:r.result};return console.log(l),l},undefined:()=>void 0})[t||"undefined"]||(()=>void 0))()}},68348:function(e,t,a){"use strict";a.r(t);var n=a(9268),i=a(86006),s=a(35846),r=a.n(s),l=a(2335),o=a.n(l),d=a(81301),u=a.n(d),p=a(16524),c=a(30745),y=a(8372),m=a(12857),f=a(50574),h=a(17155),g=a(91157),b=a(63384);let w=u()(()=>Promise.resolve(e=>{let t,a,{params:s}=e,[l,d]=(0,i.useState)(0),[u,w]=(0,i.useState)([{id:void 0,question:void 0,answers:void 0}]),[x,v]=(0,i.useState)(""),[N,k]=(0,i.useState)(!1),[E,S]=(0,i.useState)(null),[j,_]=(0,i.useState)(!1),z=p.Co.forMainnet().use(new c.v0),[Q,q]=(0,i.useState)([]),O=decodeURIComponent(s.title);(0,i.useEffect)(()=>{(async()=>{let e=await (0,y.T)(O);console.log("test",e),w(e.questions),v(e.metadata.title)})()},[]),u[l]?(t=u[l].question,a=u[l].answers):(t=void 0,a=void 0);let T=e=>{k(!0);let t=u[l];u[l].answers[e],q([...Q,{id:t.id,...t,answer:e}]),S(e)},R=async()=>{if(S(null),l!==u.length-1)d(e=>e+1);else{let{arweaveWallet:e}=window,{alephWallet:t}=window;if(t){let e=new m.U("wss://ws.test.azero.dev"),a=await f.G.create({provider:e}),n=t.address,i=await (0,h.q$)(n);a.setSigner(i.signer);let s=new g.vM(a,b,O.split(":")[1]);await s.tx.setOwnEntry({gasLimit:3e9,storageDepositLimit:null},Q).signAndSend(t.address,e=>{e.status.isInBlock?console.log("Aleph submitOwnEntry in a block"):e.status.isFinalized&&console.log("Aleph submitOwnEntry finalized")})}else{let t=new c.dS(e);await t.setPublicKey();let a=z.contract(O.split(":")[1]).connect(t);await a.writeInteraction({function:"setOwnEntry",questions:Q})}d(0),_(!0)}k(!1)};return(0,n.jsxs)("div",{className:"container success-page",children:[(0,n.jsx)("h1",{children:x}),t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsxs)("h2",{children:["Question: ",l+1,(0,n.jsxs)("span",{children:["/",u.length]})]})}),(0,n.jsx)("div",{children:j?(0,n.jsxs)("div",{className:"quiz-container",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Thank You for Taking the Quiz!"}),(0,n.jsx)("p",{children:"Stay tuned for the results."}),(0,n.jsx)(r(),{href:"/",children:(0,n.jsx)("button",{children:"Go back to home"})})]}),(0,n.jsx)(o(),{width:800,height:600,numberOfPieces:200,recycle:!1,gravity:.2})]}):(0,n.jsxs)("div",{className:"quiz-container",children:[(0,n.jsx)("h3",{children:u[l].question}),a.map((e,t)=>(0,n.jsx)("li",{onClick:()=>T(t),className:E===t?"li-selected":"li-hover",children:(0,n.jsx)("span",{children:e.caption})},t)),N?(0,n.jsx)("button",{onClick:R,className:"btn",children:l===t.length-1?"Finish":"Next"}):(0,n.jsxs)("button",{onClick:R,disabled:!0,className:"btn-disabled",children:[" ",l===t.length-1?"Finish":"Next"]})]})})]}):(0,n.jsx)("p",{children:" No questions "})]})}),{ssr:!1});t.default=w},17155:function(e,t,a){"use strict";a.d(t,{LW:function(){return x},bI:function(){return d},X6:function(){return g},vK:function(){return z},Fm:function(){return Q},$y:function(){return _},$R:function(){return v},q$:function(){return O},R0:function(){return q},u4:function(){return T},s0:function(){return R},sy:function(){return b}});var n=a(5684),i=a(99217);let s=(0,i.be)("catch","then");var r=a(85464),l=a(74940),o=a(47140);let d={name:"@polkadot/extension-dapp",path:new URL("file:///C:/Users/Nik/Desktop/fe-new/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.substring(0,new URL("file:///C:/Users/Nik/Desktop/fe-new/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.lastIndexOf("/")+1),type:"esm",version:"0.46.5"};var u=a(13780),p=a(81757);let c=(0,p.Y)("\x19Ethereum Signed Message:\n"),y=(0,p.Y)("<Bytes>"),m=(0,p.Y)("</Bytes>"),f=y.length+m.length;function h(e,t){return e.length>=f&&(0,r.S)(e.subarray(0,y.length),y)&&(0,r.S)(e.slice(-m.length),m)||t&&e.length>=c.length&&(0,r.S)(e.subarray(0,c.length),c)}let g=function(e){let t=(0,p.Y)(e);return h(t,!1)?t.subarray(y.length,t.length-m.length):t},b=function(e){let t=(0,p.Y)(e);return h(t,!0)?t:(0,u.d)([y,t,m])},w=window;w.injectedWeb3=w.injectedWeb3||{};let x=N(),v=null;function N(){return 0!==Object.values(w.injectedWeb3).filter(({connect:e,enable:t})=>!!(e||t)).length}function k(e){throw Error(`${e}: web3Enable(originName) needs to be called before ${e}`)}function E(e,t,a){return t.map(({address:t,genesisHash:n,name:i,type:s})=>({address:42===t.length?t:(0,l.m)((0,o.m)(t),a),meta:{genesisHash:n,name:i,source:e},type:s}))}function S(e,t,a){return e.filter(e=>(!e.type||!a||a.includes(e.type))&&(!e.genesisHash||!t||e.genesisHash===t))}async function j(e,t){if(!v)return k(e);let a=await v;return a.filter(({name:e})=>!t||t.includes(e))}function _(e,t=[]){var a;if(!e)throw Error("You must pass a name for your app to the web3Enable function");let i=t.length?Promise.all(t.map(e=>e().catch(()=>!1))):Promise.resolve([!0]);return a=()=>i.then(()=>Promise.all(Object.entries(w.injectedWeb3).map(([t,{connect:a,enable:i,version:s}])=>Promise.resolve().then(()=>a?a(e):i?i(e).then(e=>(0,n.Z)({name:t,version:s||"unknown"},e)):Promise.reject(Error("No connect(..) or enable(...) hook found"))).catch(({message:e})=>{console.error(`Error initializing ${t}: ${e}`)}))).then(e=>e.filter(e=>!!e)).then(e=>e.map(e=>(e.accounts.subscribe||(e.accounts.subscribe=t=>(e.accounts.get().then(t).catch(console.error),()=>{})),e))).catch(()=>[]).then(e=>{let t=e.map(({name:e,version:t})=>`${e}/${t}`);return x=N(),console.info(`web3Enable: Enabled ${e.length} extension${1!==e.length?"s":""}: ${t.join(", ")}`),e})),v=new Promise(e=>{"complete"===document.readyState?e(a()):window.addEventListener("load",()=>e(a()))})}async function z({accountType:e,extensions:t,genesisHash:a,ss58Format:n}={}){let i=[],s=await j("web3Accounts",t),r=await Promise.all(s.map(async({accounts:t,name:i})=>{try{let s=await t.get();return E(i,S(s,a,e),n)}catch{return[]}}));return r.forEach(e=>{i.push(...e)}),console.info(`web3Accounts: Found ${i.length} address${1!==i.length?"es":""}`),i}async function Q(e,{accountType:t,extensions:a,genesisHash:n,ss58Format:i}={}){let r=await j("web3AccountsSubscribe",a),l={},o=()=>e(Object.entries(l).reduce((e,[a,s])=>(e.push(...E(a,S(s,n,t),i)),e),[])),d=r.map(({accounts:{subscribe:e},name:t})=>e(e=>{l[t]=e;try{let e=o();e&&s(e)&&e.catch(console.error)}catch(e){console.error(e)}}));return()=>{d.forEach(e=>{e()})}}async function q(e){if(!v)return k("web3FromSource");let t=await v,a=e&&t.find(({name:t})=>t===e);if(!a)throw Error(`web3FromSource: Unable to find an injected ${e}`);return a}async function O(e){let t;if(!v)return k("web3FromAddress");let a=await z();if(e){let n=(0,o.m)(e);t=a.find(e=>(0,r.S)((0,o.m)(e.address),n))}if(!t)throw Error(`web3FromAddress: Unable to find injected ${e}`);return q(t.meta.source)}async function T(e){let{provider:t}=await q(e);return t?t.listProviders():(console.warn(`Extension ${e} does not expose any provider`),null)}async function R(e,t){let{provider:a}=await q(e);if(!a)throw Error(`Extension ${e} does not expose any provider`);let n=await a.startProvider(t);return{meta:n,provider:a}}},63384:function(e){"use strict";e.exports=JSON.parse('{"source":{"hash":"0xab90296deb54ef262b070ef27ab756eb88bd05773d75420daea255a9c35583f9","language":"ink! 4.3.0","compiler":"rustc 1.74.0-nightly","build_info":{"build_mode":"Release","cargo_contract_version":"3.2.0","rust_toolchain":"nightly-x86_64-unknown-linux-gnu","wasm_opt_settings":{"keep_debug_symbols":false,"optimization_passes":"Z"}}},"contract":{"name":"daQuiz","version":"0.0.42","authors":["ETHWarsawHackers <ewh@dyor.lol>"]},"spec":{"constructors":[{"args":[{"label":"init_metadata","type":{"displayName":["Metadata"],"type":14}},{"label":"init_questions","type":{"displayName":["Vec"],"type":10}}],"default":false,"docs":[],"label":"new","payable":false,"returnType":{"displayName":["ink_primitives","ConstructorResult"],"type":16},"selector":"0x9bae9d5e"},{"args":[],"default":false,"docs":[],"label":"default","payable":false,"returnType":{"displayName":["ink_primitives","ConstructorResult"],"type":16},"selector":"0xed4b9d1b"}],"docs":[],"environment":{"accountId":{"displayName":["AccountId"],"type":0},"balance":{"displayName":["Balance"],"type":28},"blockNumber":{"displayName":["BlockNumber"],"type":21},"chainExtension":{"displayName":["ChainExtension"],"type":30},"hash":{"displayName":["Hash"],"type":29},"maxEventTopics":4,"timestamp":{"displayName":["Timestamp"],"type":5}},"events":[],"lang_error":{"displayName":["ink","LangError"],"type":18},"messages":[{"args":[],"default":false,"docs":[],"label":"getMetadata","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":19},"selector":"0xc61aad79"},{"args":[{"label":"indices","type":{"displayName":["Vec"],"type":20}}],"default":false,"docs":[],"label":"getQuestions","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":22},"selector":"0x96a32eca"},{"args":[],"default":false,"docs":[],"label":"getEntries","mutates":false,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":23},"selector":"0xf8980373"},{"args":[{"label":"data","type":{"displayName":["InputEntry"],"type":24}}],"default":false,"docs":[],"label":"setOwnEntry","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":25},"selector":"0x5da2ddb6"},{"args":[{"label":"data","type":{"displayName":["Metadata"],"type":14}}],"default":false,"docs":[],"label":"updateMetadata","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":25},"selector":"0xb6236ba2"},{"args":[{"label":"question","type":{"displayName":["Question"],"type":11}}],"default":false,"docs":[],"label":"updateQuestion","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":25},"selector":"0x34214c94"}]},"storage":{"root":{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":0}},"name":"operator"},{"layout":{"struct":{"fields":[{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"title"},{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"tokens"},{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"ticker"},{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"chain"},{"layout":{"leaf":{"key":"0x00000000","ty":4}},"name":"allow"},{"layout":{"leaf":{"key":"0x00000000","ty":5}},"name":"maxEntries"},{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"note"},{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"background"},{"layout":{"leaf":{"key":"0x00000000","ty":3}},"name":"text"}],"name":"Style"}},"name":"style"}],"name":"Metadata"}},"name":"metadata"},{"layout":{"leaf":{"key":"0x00000000","ty":6}},"name":"entries"},{"layout":{"leaf":{"key":"0x00000000","ty":10}},"name":"questions"}],"name":"DaState"}},"name":"state"}],"name":"DaQuiz"}},"root_key":"0x00000000"}},"types":[{"id":0,"type":{"def":{"composite":{"fields":[{"type":1,"typeName":"[u8; 32]"}]}},"path":["ink_primitives","types","AccountId"]}},{"id":1,"type":{"def":{"array":{"len":32,"type":2}}}},{"id":2,"type":{"def":{"primitive":"u8"}}},{"id":3,"type":{"def":{"primitive":"str"}}},{"id":4,"type":{"def":{"sequence":{"type":3}}}},{"id":5,"type":{"def":{"primitive":"u64"}}},{"id":6,"type":{"def":{"sequence":{"type":7}}}},{"id":7,"type":{"def":{"composite":{"fields":[{"name":"author","type":0,"typeName":"AccountId"},{"name":"questions","type":8,"typeName":"Vec<QuestionEntry>"}]}},"path":["daQuiz","daQuiz","Entry"]}},{"id":8,"type":{"def":{"sequence":{"type":9}}}},{"id":9,"type":{"def":{"composite":{"fields":[{"name":"id","type":3,"typeName":"String"},{"name":"answers","type":4,"typeName":"Vec<String>"}]}},"path":["daQuiz","daQuiz","QuestionEntry"]}},{"id":10,"type":{"def":{"sequence":{"type":11}}}},{"id":11,"type":{"def":{"composite":{"fields":[{"name":"id","type":3,"typeName":"String"},{"name":"question","type":3,"typeName":"String"},{"name":"note","type":3,"typeName":"String"},{"name":"answers","type":12,"typeName":"Vec<Answer>"}]}},"path":["daQuiz","daQuiz","Question"]}},{"id":12,"type":{"def":{"sequence":{"type":13}}}},{"id":13,"type":{"def":{"composite":{"fields":[{"name":"caption","type":3,"typeName":"String"}]}},"path":["daQuiz","daQuiz","Answer"]}},{"id":14,"type":{"def":{"composite":{"fields":[{"name":"title","type":3,"typeName":"String"},{"name":"tokens","type":3,"typeName":"String"},{"name":"ticker","type":3,"typeName":"String"},{"name":"chain","type":3,"typeName":"String"},{"name":"allow","type":4,"typeName":"Vec<String>"},{"name":"maxEntries","type":5,"typeName":"u64"},{"name":"note","type":3,"typeName":"String"},{"name":"style","type":15,"typeName":"Style"}]}},"path":["daQuiz","daQuiz","Metadata"]}},{"id":15,"type":{"def":{"composite":{"fields":[{"name":"background","type":3,"typeName":"String"},{"name":"text","type":3,"typeName":"String"}]}},"path":["daQuiz","daQuiz","Style"]}},{"id":16,"type":{"def":{"variant":{"variants":[{"fields":[{"type":17}],"index":0,"name":"Ok"},{"fields":[{"type":18}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":17},{"name":"E","type":18}],"path":["Result"]}},{"id":17,"type":{"def":{"tuple":[]}}},{"id":18,"type":{"def":{"variant":{"variants":[{"index":1,"name":"CouldNotReadInput"}]}},"path":["ink_primitives","LangError"]}},{"id":19,"type":{"def":{"variant":{"variants":[{"fields":[{"type":14}],"index":0,"name":"Ok"},{"fields":[{"type":18}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":14},{"name":"E","type":18}],"path":["Result"]}},{"id":20,"type":{"def":{"sequence":{"type":21}}}},{"id":21,"type":{"def":{"primitive":"u32"}}},{"id":22,"type":{"def":{"variant":{"variants":[{"fields":[{"type":10}],"index":0,"name":"Ok"},{"fields":[{"type":18}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":10},{"name":"E","type":18}],"path":["Result"]}},{"id":23,"type":{"def":{"variant":{"variants":[{"fields":[{"type":6}],"index":0,"name":"Ok"},{"fields":[{"type":18}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":6},{"name":"E","type":18}],"path":["Result"]}},{"id":24,"type":{"def":{"composite":{"fields":[{"name":"author","type":3,"typeName":"String"},{"name":"questions","type":8,"typeName":"Vec<QuestionEntry>"}]}},"path":["daQuiz","daQuiz","InputEntry"]}},{"id":25,"type":{"def":{"variant":{"variants":[{"fields":[{"type":26}],"index":0,"name":"Ok"},{"fields":[{"type":18}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":26},{"name":"E","type":18}],"path":["Result"]}},{"id":26,"type":{"def":{"variant":{"variants":[{"fields":[{"type":17}],"index":0,"name":"Ok"},{"fields":[{"type":27}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":17},{"name":"E","type":27}],"path":["Result"]}},{"id":27,"type":{"def":{"variant":{"variants":[{"index":0,"name":"NotAllowed"},{"index":1,"name":"NotFound"}]}},"path":["daQuiz","daQuiz","Error"]}},{"id":28,"type":{"def":{"primitive":"u128"}}},{"id":29,"type":{"def":{"composite":{"fields":[{"type":1,"typeName":"[u8; 32]"}]}},"path":["ink_primitives","types","Hash"]}},{"id":30,"type":{"def":{"variant":{}},"path":["ink_env","types","NoChainExtension"]}}],"version":"4"}')}},function(e){e.O(0,[109,441,867,920,554,585,667,152,744],function(){return e(e.s=24908)}),_N_E=e.O()}]);